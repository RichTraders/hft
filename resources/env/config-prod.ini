[log]
level = INFO
size = 10245760

[exchange]
# Futures MD settings
md_api_host = ws-fapi.binance.com
md_stream_host = fstream.binance.com
md_api_endpoint_path = /ws-fapi/v1?returnRateLimits=false
exchange_info_url = https://fapi.binance.com/fapi/v1/exchangeInfo
md_ws_path = /stream?streams={symbol}@depth@100ms/{symbol}@aggTrade/{symbol}@bookTicker
md_port = 443
md_use_ssl = 1

# Futures OE settings
oe_api_host = ws-fapi.binance.com
oe_api_endpoint_path = /ws-fapi/v1?returnRateLimits=false
oe_stream_host = fstream.binance.com
oe_stream_endpoint_path = /ws
oe_port = 443
oe_use_ssl = 1
keepalive_minutes = 58

[orders]
; Human readable qty value - scaled in code
; min_replace_qty_delta: 0.1 qty
min_replace_qty_delta = 0.1
min_replace_tick_delta = 50
; 6s
ttl_reserved_ns = 6,000,000,000
; 10.0s
ttl_live_ns = 10,000,000,000

[inventory]
; skew_coefficient: ratio (no scaling)
skew_coefficient = 0.001
; target_position: 0 qty
target_position = 0

[main_init]
mud_pool_size = 2048
md_pool_size = 65536
response_memory_size = 1024

[cpu_info]
clock = 3.6e9
interval = 6

[cpu_id]
use_cpu_group = 1
use_cpu_to_tid = 1
count = 6

[thread]
count = 7

# CPU Layout:
# CPU 0: OS/IRQ dedicated (not used by app)
# CPU 1: MD Recv (Sibling CPU 7 empty - prevents HT contention)
# CPU 2: TradeEngine (highest priority, exclusive)
# CPU 3: Order Send (Sibling CPU 9 empty)
# CPU 4: Order Recv
# CPU 5: MD Req + Logger + main (low-priority threads shared)

[cpu_1]
use_irq = 0
cpu_type = 0

[cpu_2]
use_irq = 0
cpu_type = 0

[cpu_3]
use_irq = 0
cpu_type = 0

[cpu_4]
use_irq = 0
cpu_type = 0

[cpu_5]
use_irq = 0
cpu_type = 0

# Thread 0: MD Req (Low frequency, shared with Logger on CPU 5)
[thread_0]
name = MDWrite
cpu_id = 5
prio = 40
nicev = -10

# Thread 1: MD Recv (High priority on CPU 1, sibling 7 empty)
[thread_1]
name = MDRead
cpu_id = 1
prio = 60
nicev = -20

# Thread 2: Order Send (Medium-high priority on CPU 3, sibling 9 empty)
[thread_2]
name = OEStream
cpu_id = 3
prio = 50
nicev = -20

# Thread 3: Order Recv (Medium priority on CPU 4, separated from send)
[thread_3]
name = OEApi
cpu_id = 4
prio = 50
nicev = -20

# Thread 4: TradeEngine (Critical, exclusive CPU 2)
[thread_4]
name = TradeEngine
cpu_id = 2
prio = 99
nicev = -20

# Thread 5: Logger (Lowest priority, shared with MD Req on CPU 5)
[thread_5]
name = Logger
cpu_id = 5
prio = 30
nicev = -10

;[thread_6]
;name = hft_main
;cpu_id = 5
;nicev = -10